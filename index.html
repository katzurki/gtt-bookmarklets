<style>
#page-wrap {
     width: 900px;
     margin: 0 auto;
}


a.btn {
	display: inline-block;
	color: #eee;
	background-color: #666;
	text-transform: uppercase;
	letter-spacing: 2px;
	font-size: 12px;
	padding: 10px 30px;
	border-radius: 5px;
	-moz-border-radius: 5px;
	-webkit-border-radius: 5px;
	border: 1px solid rgba(0,0,0,0.3);
	border-bottom-width: 3px;
}

	a.btn:hover {
		background-color: #e3e3e3;
		border-color: rgba(0,0,0,0.5);
	}
	
	a.btn:active {
		background-color: #CCC;
		border-color: rgba(0,0,0,0.9);
	}

/* blue button */


div.text,
#content,
li[lang=ru] {
  font: Verdana, Tahoma;
  background: url('hatch.png') /* wtf? */;  color: #CACACA !important;
  width: 40%;
}
 
pre {
 white-space: pre-wrap;       /* css-3 */
 white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */
 white-space: -pre-wrap;      /* Opera 4-6 */
 white-space: -o-pre-wrap;    /* Opera 7 */
        /* Internet Explorer 5.5+ */
}

btn-extension {
	color: #FFFFFF!important;
	}
	
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  body:first-of-type pre::after {
    content: 'highlight: ' attr(class);
  }
}


@font-face {
  font-family: Chunkfive; src: url('Chunkfive.otf');
}

div.text,
#content,
li[lang=ru] {
  font: Tahoma, Chunkfive, sans-serif;
  background: url('hatch.png') /* wtf? */;  color: #F0F0F0 !important;
  font-size:14px!important;
  width: 100%;
}

*.hljs-comment,.hljs-quote{color:#969896}.hljs-deletion,.hljs-name,.hljs-regexp,.hljs-selector-class,.hljs-selector-id,.hljs-tag,.hljs-template-variable,.hljs-variable{color:#d54e53}.hljs-built_in,.hljs-builtin-name,.hljs-link,.hljs-literal,.hljs-meta,.hljs-number,.hljs-params,.hljs-type{color:#e78c45}.hljs-attribute{color:#e7c547}.hljs-addition,.hljs-bullet,.hljs-string,.hljs-symbol{color:#b9ca4a}.hljs-section,.hljs-title{color:#7aa6da}.hljs-keyword,.hljs-selector-tag{color:#c397d8}.hljs{display:block;overflow-x:auto;background:#000;color:#eaeaea;padding:3em}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:100}


.clearfix:after,.container-fluid:after,.container:after,.row-fluid:after,.row:after{clear:both}.lead,dl{margin-bottom:20px}hr,img{border:0}article,aside,details,figcaption,figure,footer,header,hgroup,nav,section{display:block}audio,canvas,video{display:inline-block}audio:not([controls]){display:none}html{font-size:100%;-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%}a:focus{outline:#333 dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}a:active,a:hover{outline:0}sub,sup{position:relative;font-size:75%;line-height:0;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{max-width:100%;vertical-align:middle;-ms-interpolation-mode:bicubic}button,input,select,textarea{margin:0;font-size:100%;vertical-align:middle}button,input{line-height:normal}button::-moz-focus-inner,input::-moz-focus-inner{padding:5em;border:5em}button,input[type=button],input[type=reset],input[type=submit]{cursor:pointer;-webkit-appearance:button}input[type=search]{-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-appearance:textfield}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;vertical-align:top}.clearfix:after,.clearfix:before{display:table;content:""}.hide-text{font:0/0 a;color:transparent;text-shadow:none;background-color:transparent;border:0}body,p{font-size:13px;line-height:20px}body,h1,h2,h3,h4,h5,h6,p{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}.lead,h3{line-height:30px}.input-block-level{display:block;width:100%;min-height:14px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box}.row-fluid:after,.row-fluid:before,.row:after,.row:before{display:table;content:""}.container,.navbar-fixed-bottom .container,.navbar-fixed-top .container,.span12{width:940px}body{margin:0;color:#333;background-color:#f8f8f8}.navbar .brand,.row{margin-left:-20px}a:hover{text-decoration:underline}[class*=span]{float:left;margin-left:20px}.span11{width:860px}.span10{width:780px}.span9{width:700px}.span8{width:620px}.span7{width:540px}.span6{width:460px}.span5{width:380px}.span4{width:300px}.span3{width:220px}.span2{width:140px}.span1{width:60px}.offset12{margin-left:980px}.offset11{margin-left:900px}.offset10{margin-left:820px}.offset9{margin-left:740px}.offset8{margin-left:660px}.offset7{margin-left:580px}.offset6{margin-left:500px}.offset5{margin-left:420px}.offset4{margin-left:340px}.offset3{margin-left:260px}.offset2{margin-left:180px}.offset1{margin-left:100px}.row-fluid{width:100%}.row-fluid [class*=span]{display:block;width:100%;min-height:14px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;-ms-box-sizing:border-box;box-sizing:border-box;float:left;margin-left:2.127659574%}.container-fluid:after,.container-fluid:before,.container:after,.container:before{display:table;content:""}.row-fluid [class*=span]:first-child{margin-left:0}.row-fluid .span12{width:99.99999998999999%}.row-fluid .span11{width:91.489361693%}.row-fluid .span10{width:82.97872339599999%}.row-fluid .span9{width:74.468085099%}.row-fluid .span8{width:65.95744680199999%}.row-fluid .span7{width:57.446808505%}.row-fluid .span6{width:48.93617020799999%}.row-fluid .span5{width:40.425531911%}.row-fluid .span4{width:31.914893614%}.row-fluid .span3{width:23.404255317%}.row-fluid .span2{width:14.89361702%}.row-fluid .span1{width:6.382978723%}.container{margin-right:auto;margin-left:auto}.container-fluid{padding-right:20px;padding-left:20px}address,blockquote small{display:block}p{margin:0 0 10px}p small{font-size:11px;color:#999}.lead{font-size:20px;font-weight:200}blockquote p,ol ol,ol ul,ul ol,ul ul{margin-bottom:0}h1,h2{line-height:40px}h1,h2,h3,h4,h5,h6{margin:0;font-weight:700;color:inherit;text-rendering:optimizelegibility}.muted,blockquote small,h6{color:#999}h1 small,h2 small,h3 small,h4 small,h5 small,h6 small{font-weight:400;color:#999}dt,strong{font-weight:700}h1 small,h2 small{font-size:18px}h2{font-size:24px}h3{font-size:18px}h3 small,h4{font-size:14px}h4,h5,h6{line-height:20px}h4 small,h5{font-size:12px}h6{font-size:11px;text-transform:uppercase}.page-header h1{line-height:1}address,blockquote small,dd,dt,li{line-height:20px}ol,ul{padding:0;margin:0 0 10px 25px}ul{list-style:disc}ol{list-style:decimal}ol.unstyled,ul.unstyled{margin-left:0;list-style:none}dt{line-height:19px}dd{margin-left:10px}.dl-horizontal dt{float:left;width:120px;clear:left;text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.filter:after,.navbar-form:after,.social-buttons:after,.thumbnails:after{clear:both}.dl-horizontal dd{margin-left:130px}hr{margin:20px 0;border-top:1px solid #999;border-bottom:1px solid #fff}em{font-style:italic}address,cite{font-style:normal}abbr[title]{cursor:help;border-bottom:1px dotted #ddd}abbr.initialism{font-size:90%;text-transform:uppercase}blockquote{padding:0 0 0 15px;margin:0 0 20px;border-left:5px solid #eee}blockquote p{font-size:16px;font-weight:300;line-height:25px}blockquote small:before{content:'\2014 \00A0'}blockquote.pull-right{float:right;padding-right:15px;padding-left:0;border-right:5px solid #eee;border-left:0}blockquote.pull-right p,blockquote.pull-right small{text-align:right}blockquote:after,blockquote:before,q:after,q:before{content:""}address{margin-bottom:20px}small{font-size:100%}@font-face{font-family:FontAwesome;src:url(../font/fontawesome-webfont.eot);src:url(../font/fontawesome-webfont.eot?#iefix) format('embedded-opentype'),url(../font/fontawesome-webfont.woff) format('woff'),url(../font/fontawesome-webfont.ttf) format('truetype'),url(../font/fontawesome-webfont.svgz#FontAwesomeRegular) format('svg'),url(../font/fontawesome-webfont.svg#FontAwesomeRegular) format('svg');font-weight:400;font-style:normal}[class*=" icon-"],[class^=icon-]{display:inline;width:auto;height:auto;line-height:inherit;vertical-align:baseline;background-image:none;background-position:0 0;background-repeat:repeat}li[class*=" icon-"],li[class^=icon-]{display:block;margin-left:0;list-style-type:none}[class*=" icon-"]:before,[class^=icon-]:before{font-family:FontAwesome;font-weight:400;font-style:normal;display:inline-block;text-decoration:inherit}a [class*=" icon-"],a [class^=icon-]{display:inline-block;text-decoration:inherit}.icon-large:before{vertical-align:top;font-size:1.3333333333333333em}.btn [class*=" icon-"],.btn [class^=icon-]{line-height:.9em}li [class*=" icon-"],li [class^=icon-]{display:inline-block;width:1.25em;text-align:center}li .icon-large[class*=" icon-"],li .icon-large[class^=icon-]{width:1.875em}li[class*=" icon-"]:before,li[class^=icon-]:before{text-indent:-2em;text-align:center}li[class*=" icon-"].icon-large:before,li[class^=icon-].icon-large:before{text-indent:-1.3333333333333333em}.icon-glass:before{content:"\f000"}.icon-music:before{content:"\f001"}.icon-search:before{content:"\f002"}.icon-envelope:before{content:"\f003"}.icon-heart:before{content:"\f004"}.icon-star:before{content:"\f005"}.icon-star-empty:before{content:"\f006"}.icon-user:before{content:"\f007"}.icon-film:before{content:"\f008"}.icon-th-large:before{content:"\f009"}.icon-th:before{content:"\f00a"}.icon-th-list:before{content:"\f00b"}.icon-ok:before{content:"\f00c"}.icon-remove:before{content:"\f00d"}.icon-zoom-in:before{content:"\f00e"}.icon-zoom-out:before{content:"\f010"}.icon-off:before{content:"\f011"}.icon-signal:before{content:"\f012"}.icon-cog:before{content:"\f013"}.icon-trash:before{content:"\f014"}.icon-home:before{content:"\f015"}.icon-file:before{content:"\f016"}.icon-time:before{content:"\f017"}.icon-road:before{content:"\f018"}.icon-download-alt:before{content:"\f019"}.icon-download:before{content:"\f01a"}.icon-upload:before{content:"\f01b"}.icon-inbox:before{content:"\f01c"}.icon-play-circle:before{content:"\f01d"}.icon-repeat:before{content:"\f01e"}.icon-refresh:before{content:"\f021"}.icon-list-alt:before{content:"\f022"}.icon-lock:before{content:"\f023"}.icon-flag:before{content:"\f024"}.icon-headphones:before{content:"\f025"}.icon-volume-off:before{content:"\f026"}.icon-volume-down:before{content:"\f027"}.icon-volume-up:before{content:"\f028"}.icon-qrcode:before{content:"\f029"}.icon-barcode:before{content:"\f02a"}.icon-tag:before{content:"\f02b"}.icon-tags:before{content:"\f02c"}.icon-book:before{content:"\f02d"}.icon-bookmark:before{content:"\f02e"}.icon-print:before{content:"\f02f"}.icon-camera:before{content:"\f030"}.icon-font:before{content:"\f031"}.icon-bold:before{content:"\f032"}.icon-italic:before{content:"\f033"}.icon-text-height:before{content:"\f034"}.icon-text-width:before{content:"\f035"}.icon-align-left:before{content:"\f036"}.icon-align-center:before{content:"\f037"}.icon-align-right:before{content:"\f038"}.icon-align-justify:before{content:"\f039"}.icon-list:before{content:"\f03a"}.icon-indent-left:before{content:"\f03b"}.icon-indent-right:before{content:"\f03c"}.icon-facetime-video:before{content:"\f03d"}.icon-picture:before{content:"\f03e"}.icon-pencil:before{content:"\f040"}.icon-map-marker:before{content:"\f041"}.icon-adjust:before{content:"\f042"}.icon-tint:before{content:"\f043"}.icon-edit:before{content:"\f044"}.icon-share:before{content:"\f045"}.icon-check:before{content:"\f046"}.icon-move:before{content:"\f047"}.icon-step-backward:before{content:"\f048"}.icon-fast-backward:before{content:"\f049"}.icon-backward:before{content:"\f04a"}.icon-play:before{content:"\f04b"}.icon-pause:before{content:"\f04c"}.icon-stop:before{content:"\f04d"}.icon-forward:before{content:"\f04e"}.icon-fast-forward:before{content:"\f050"}.icon-step-forward:before{content:"\f051"}.icon-eject:before{content:"\f052"}.icon-chevron-left:before{content:"\f053"}.icon-chevron-right:before{content:"\f054"}.icon-plus-sign:before{content:"\f055"}.icon-minus-sign:before{content:"\f056"}.icon-remove-sign:before{content:"\f057"}.icon-ok-sign:before{content:"\f058"}.icon-question-sign:before{content:"\f059"}.icon-info-sign:before{content:"\f05a"}.icon-screenshot:before{content:"\f05b"}.icon-remove-circle:before{content:"\f05c"}.icon-ok-circle:before{content:"\f05d"}.icon-ban-circle:before{content:"\f05e"}.icon-arrow-left:before{content:"\f060"}.icon-arrow-right:before{content:"\f061"}.icon-arrow-up:before{content:"\f062"}.icon-arrow-down:before{content:"\f063"}.icon-share-alt:before{content:"\f064"}.icon-resize-full:before{content:"\f065"}.icon-resize-small:before{content:"\f066"}.icon-plus:before{content:"\f067"}.icon-minus:before{content:"\f068"}.icon-asterisk:before{content:"\f069"}.icon-exclamation-sign:before{content:"\f06a"}.icon-gift:before{content:"\f06b"}.icon-leaf:before{content:"\f06c"}.icon-fire:before{content:"\f06d"}.icon-eye-open:before{content:"\f06e"}.icon-eye-close:before{content:"\f070"}.icon-warning-sign:before{content:"\f071"}.icon-plane:before{content:"\f072"}.icon-calendar:before{content:"\f073"}.icon-random:before{content:"\f074"}.icon-comment:before{content:"\f075"}.icon-magnet:before{content:"\f076"}.icon-chevron-up:before{content:"\f077"}.icon-chevron-down:before{content:"\f078"}.icon-retweet:before{content:"\f079"}.icon-shopping-cart:before{content:"\f07a"}.icon-folder-close:before{content:"\f07b"}.icon-folder-open:before{content:"\f07c"}.icon-resize-vertical:before{content:"\f07d"}.icon-resize-horizontal:before{content:"\f07e"}.icon-bar-chart:before{content:"\f080"}.icon-twitter-sign:before{content:"\f081"}.icon-facebook-sign:before{content:"\f082"}.icon-camera-retro:before{content:"\f083"}.icon-key:before{content:"\f084"}.icon-cogs:before{content:"\f085"}.icon-comments:before{content:"\f086"}.icon-thumbs-up:before{content:"\f087"}.icon-thumbs-down:before{content:"\f088"}.icon-star-half:before{content:"\f089"}.icon-heart-empty:before{content:"\f08a"}.icon-signout:before{content:"\f08b"}.icon-linkedin-sign:before{content:"\f08c"}.icon-pushpin:before{content:"\f08d"}.icon-external-link:before{content:"\f08e"}.icon-signin:before{content:"\f090"}.icon-trophy:before{content:"\f091"}.icon-github-sign:before{content:"\f092"}.icon-upload-alt:before{content:"\f093"}.icon-lemon:before{content:"\f094"}.btn{display:inline-block;padding:4px 10px;margin-bottom:0;font-size:13px;line-height:20px;color:#333;text-align:center;text-shadow:0 1px 1px rgba(255,255,255,.75);vertical-align:middle;cursor:pointer;background-color:#f5f5f5;background-image:-moz-linear-gradient(top,#fff,#e6e6e6);background-image:-ms-linear-gradient(top,#fff,#e6e6e6);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fff),to(#e6e6e6));background-image:-webkit-linear-gradient(top,#fff,#e6e6e6);background-image:-o-linear-gradient(top,#fff,#e6e6e6);background-image:linear-gradient(top,#fff,#e6e6e6);background-repeat:repeat-x;filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);border:1px solid #ccc;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 1px 0 rgba(255,255,255,.2),0 1px 2px rgba(0,0,0,.05);border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn.active,.btn:active{background-color:#ccc\9}.btn:hover{color:#333;text-decoration:none;background-color:#e6e6e6;background-position:0 -15px;-webkit-transition:background-position .1s linear;-moz-transition:background-position .1s linear;-ms-transition:background-position .1s linear;-o-transition:background-position .1s linear;transition:background-position .1s linear}.btn:focus{outline:#333 dotted thin;outline:-webkit-focus-ring-color auto 5px;outline-offset:-2px}.btn.active,.btn:active{background-color:#e6e6e6;background-color:#d9d9d9\9;background-image:none;outline:0;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);-moz-box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.15),0 1px 2px rgba(0,0,0,.05)}.btn.disabled,.btn[disabled]{cursor:default;background-color:#e6e6e6;background-image:none;opacity:.65;filter:alpha(opacity=65);-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none}.btn-danger,.btn-info,.btn-inverse,.btn-primary,.btn-success,.btn-warning{filter:progid:DXImageTransform.Microsoft.gradient(enabled=false)}.btn-large{padding:9px 14px;font-size:15px;line-height:normal;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.btn-large [class^=icon-]{margin-top:1px}.btn-small{padding:5px 9px;font-size:11px;line-height:18px}.btn-small [class^=icon-]{margin-top:-1px}.btn-mini{padding:2px 6px;font-size:11px;line-height:16px}.btn-danger,.btn-danger:hover,.btn-info,.btn-info:hover,.btn-inverse,.btn-inverse:hover,.btn-primary,.btn-primary:hover,.btn-success,.btn-success:hover,.btn-warning,.btn-warning:hover{color:#fff;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.btn-danger.active,.btn-info.active,.btn-inverse.active,.btn-primary.active,.btn-success.active,.btn-warning.active{color:rgba(255,255,255,.75)}.navbar,.navbar .navbar-link{color:#999}.btn-primary{background-color:#0084cc;background-image:-moz-linear-gradient(top,#0098cc,#0065cc);background-image:-ms-linear-gradient(top,#0098cc,#0065cc);background-image:-webkit-gradient(linear,0 0,0 100%,from(#0098cc),to(#0065cc));background-image:-webkit-linear-gradient(top,#0098cc,#0065cc);background-image:-o-linear-gradient(top,#0098cc,#0065cc);background-image:linear-gradient(top,#0098cc,#0065cc);background-repeat:repeat-x;border-color:#0065cc #0065cc #003f80;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-primary.active,.btn-primary.disabled,.btn-primary:active,.btn-primary:hover,.btn-primary[disabled]{background-color:#0065cc}.btn-primary.active,.btn-primary:active{background-color:#004c99\9}.btn-warning{background-color:#faa732;background-image:-moz-linear-gradient(top,#fbb450,#f89406);background-image:-ms-linear-gradient(top,#fbb450,#f89406);background-image:-webkit-gradient(linear,0 0,0 100%,from(#fbb450),to(#f89406));background-image:-webkit-linear-gradient(top,#fbb450,#f89406);background-image:-o-linear-gradient(top,#fbb450,#f89406);background-image:linear-gradient(top,#fbb450,#f89406);background-repeat:repeat-x;border-color:#f89406 #f89406 #ad6704;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-warning.active,.btn-warning.disabled,.btn-warning:active,.btn-warning:hover,.btn-warning[disabled]{background-color:#f89406}.btn-warning.active,.btn-warning:active{background-color:#c67605\9}.btn-danger{background-color:#da4f49;background-image:-moz-linear-gradient(top,#ee5f5b,#bd362f);background-image:-ms-linear-gradient(top,#ee5f5b,#bd362f);background-image:-webkit-gradient(linear,0 0,0 100%,from(#ee5f5b),to(#bd362f));background-image:-webkit-linear-gradient(top,#ee5f5b,#bd362f);background-image:-o-linear-gradient(top,#ee5f5b,#bd362f);background-image:linear-gradient(top,#ee5f5b,#bd362f);background-repeat:repeat-x;border-color:#bd362f #bd362f #802420;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-danger.active,.btn-danger.disabled,.btn-danger:active,.btn-danger:hover,.btn-danger[disabled]{background-color:#bd362f}.btn-danger.active,.btn-danger:active{background-color:#942a25\9}.btn-success{background-color:#5bb75b;background-image:-moz-linear-gradient(top,#62c462,#51a351);background-image:-ms-linear-gradient(top,#62c462,#51a351);background-image:-webkit-gradient(linear,0 0,0 100%,from(#62c462),to(#51a351));background-image:-webkit-linear-gradient(top,#62c462,#51a351);background-image:-o-linear-gradient(top,#62c462,#51a351);background-image:linear-gradient(top,#62c462,#51a351);background-repeat:repeat-x;border-color:#51a351 #51a351 #387038;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-success.active,.btn-success.disabled,.btn-success:active,.btn-success:hover,.btn-success[disabled]{background-color:#51a351}.btn-success.active,.btn-success:active{background-color:#408140\9}.btn-info{background-color:#49afcd;background-image:-moz-linear-gradient(top,#5bc0de,#2f96b4);background-image:-ms-linear-gradient(top,#5bc0de,#2f96b4);background-image:-webkit-gradient(linear,0 0,0 100%,from(#5bc0de),to(#2f96b4));background-image:-webkit-linear-gradient(top,#5bc0de,#2f96b4);background-image:-o-linear-gradient(top,#5bc0de,#2f96b4);background-image:linear-gradient(top,#5bc0de,#2f96b4);background-repeat:repeat-x;border-color:#2f96b4 #2f96b4 #1f6377;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.btn-info.active,.btn-info.disabled,.btn-info:active,.btn-info:hover,.btn-info[disabled]{background-color:#2f96b4}.btn-info.active,.btn-info:active{background-color:#24748c\9}.btn-inverse{background-color:#414141;background-image:-moz-linear-gradient(top,#555,#222);background-image:-ms-linear-gradient(top,#555,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#555),to(#222));background-image:-webkit-linear-gradient(top,#555,#222);background-image:-o-linear-gradient(top,#555,#222);background-image:linear-gradient(top,#555,#222);background-repeat:repeat-x;border-color:#222 #222 #000;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25)}.navbar .btn-navbar,.navbar-inner{background-image:-moz-linear-gradient(top,#333,#222);background-image:-webkit-linear-gradient(top,#333,#222);background-repeat:repeat-x}.btn-inverse.active,.btn-inverse.disabled,.btn-inverse:active,.btn-inverse:hover,.btn-inverse[disabled]{background-color:#222}.btn-inverse.active,.btn-inverse:active{background-color:#080808\9}button.btn::-moz-focus-inner,input[type=submit].btn::-moz-focus-inner{padding:0;border:0}.navbar{overflow:visible;margin-bottom:20px}.navbar-inner{min-height:40px;padding-left:20px;padding-right:20px;background-color:#2c2c2c;background-image:-ms-linear-gradient(top,#333,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#333),to(#222));background-image:-o-linear-gradient(top,#333,#222);background-image:linear-gradient(top,#333,#222);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#333333', endColorstr='#222222', GradientType=0);-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1);-moz-box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1);box-shadow:0 1px 3px rgba(0,0,0,.25),inset 0 -1px 0 rgba(0,0,0,.1)}.nav-collapse.collapse{height:auto}.navbar .brand:hover{text-decoration:none}.navbar .brand{float:left;display:block;padding:8px 20px 12px;font-size:20px;font-weight:200;line-height:1}.navbar .navbar-text{margin-bottom:0;line-height:40px}.navbar .navbar-link:hover{color:#fff}.navbar .btn,.navbar .btn-group{margin-top:5px}.navbar .btn-group .btn{margin:0}.navbar-form{margin-bottom:0}.navbar-form:after,.navbar-form:before{display:table;content:""}.navbar-form .checkbox,.navbar-form .radio,.navbar-form input,.navbar-form select{margin-top:5px}.navbar-form input,.navbar-form select{display:inline-block;margin-bottom:0}.navbar-form input[type=image],.navbar-form input[type=checkbox],.navbar-form input[type=radio]{margin-top:3px}.navbar-form .input-append,.navbar-form .input-prepend{margin-top:6px;white-space:nowrap}.navbar-form .input-append input,.navbar-form .input-prepend input{margin-top:0}.navbar-search{position:relative;float:left;margin-top:6px;margin-bottom:0}.navbar-search .search-query{padding:4px 9px;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:13px;font-weight:400;line-height:1;color:#fff;background-color:#626262;border:1px solid #151515;-webkit-box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);-moz-box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);box-shadow:inset 0 1px 2px rgba(0,0,0,.1),0 1px 0 rgba(255,255,255,.15);-webkit-transition:none;-moz-transition:none;-ms-transition:none;-o-transition:none;transition:none}.navbar-search .search-query:-moz-placeholder{color:#ccc}.navbar-search .search-query::-webkit-input-placeholder{color:#ccc}.navbar-search .search-query.focused,.navbar-search .search-query:focus{padding:5px 10px;color:#333;text-shadow:0 1px 0 #fff;background-color:#fff;border:0;-webkit-box-shadow:0 0 3px rgba(0,0,0,.15);-moz-box-shadow:0 0 3px rgba(0,0,0,.15);box-shadow:0 0 3px rgba(0,0,0,.15);outline:0}.navbar-fixed-bottom,.navbar-fixed-top{position:fixed;right:0;left:0;z-index:1030;margin-bottom:0}.navbar-fixed-bottom .navbar-inner,.navbar-fixed-top .navbar-inner{padding-left:0;padding-right:0;-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.navbar-fixed-top{top:0}.navbar-fixed-bottom{bottom:0}.navbar .nav{position:relative;left:0;display:block;float:left;margin:0 10px 0 0}.navbar .nav.pull-right{float:right}.navbar .nav>li{display:block;float:left}.navbar .nav>li>a{float:none;padding:9px 10px 11px;line-height:19px;color:#999;text-decoration:none;text-shadow:0 -1px 0 rgba(0,0,0,.25)}.navbar .btn{display:inline-block;padding:4px 10px;margin:5px 5px 6px;line-height:20px}.navbar .btn-group{margin:0;padding:5px 5px 6px}.navbar .nav>li>a:hover{background-color:transparent;color:#fff;text-decoration:none}.navbar .nav .active>a,.navbar .nav .active>a:hover{color:#fff;text-decoration:none;background-color:#222}.navbar .divider-vertical{height:40px;width:1px;margin:0 9px;overflow:hidden;background-color:#222;border-right:1px solid #333}.navbar .nav.pull-right{margin-left:10px;margin-right:0}.navbar .btn-navbar{display:none;float:right;padding:7px 10px;margin-left:5px;margin-right:5px;background-color:#2c2c2c;background-image:-ms-linear-gradient(top,#333,#222);background-image:-webkit-gradient(linear,0 0,0 100%,from(#333),to(#222));background-image:-o-linear-gradient(top,#333,#222);background-image:linear-gradient(top,#333,#222);border-color:#222 #222 #000;border-color:rgba(0,0,0,.1) rgba(0,0,0,.1) rgba(0,0,0,.25);filter:progid:DXImageTransform.Microsoft.gradient(enabled=false);-webkit-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075);-moz-box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075);box-shadow:inset 0 1px 0 rgba(255,255,255,.1),0 1px 0 rgba(255,255,255,.075)}.navbar .btn-navbar.active,.navbar .btn-navbar.disabled,.navbar .btn-navbar:active,.navbar .btn-navbar:hover,.navbar .btn-navbar[disabled]{background-color:#222}.navbar .btn-navbar.active,.navbar .btn-navbar:active{background-color:#080808\9}.navbar .btn-navbar .icon-bar{display:block;width:18px;height:2px;background-color:#f5f5f5;-webkit-border-radius:1px;-moz-border-radius:1px;border-radius:1px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.25);-moz-box-shadow:0 1px 0 rgba(0,0,0,.25);box-shadow:0 1px 0 rgba(0,0,0,.25)}.navbar .dropdown-menu:after,.navbar .dropdown-menu:before{content:'';display:inline-block;position:absolute}.btn-navbar .icon-bar+.icon-bar{margin-top:3px}.navbar .dropdown-menu:before{border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #ccc;border-bottom-color:rgba(0,0,0,.2);top:-7px;left:9px}.navbar .dropdown-menu:after{border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #fff;top:-6px;left:10px}.navbar-fixed-bottom .dropdown-menu:before{border-top:7px solid #ccc;border-top-color:rgba(0,0,0,.2);border-bottom:0;bottom:-7px;top:auto}.navbar-fixed-bottom .dropdown-menu:after{border-top:6px solid #fff;border-bottom:0;bottom:-6px;top:auto}.navbar .nav li.dropdown .dropdown-toggle .caret,.navbar .nav li.dropdown.open .caret{border-top-color:#fff;border-bottom-color:#fff}.navbar .nav li.dropdown.active .caret{opacity:1;filter:alpha(opacity=100)}.navbar .nav li.dropdown.active>.dropdown-toggle,.navbar .nav li.dropdown.open.active>.dropdown-toggle,.navbar .nav li.dropdown.open>.dropdown-toggle{background-color:transparent}.navbar .nav li.dropdown.active>.dropdown-toggle:hover{color:#fff}.navbar .dropdown-menu.pull-right,.navbar .pull-right .dropdown-menu{left:auto;right:0}.navbar .dropdown-menu.pull-right:before,.navbar .pull-right .dropdown-menu:before{left:auto;right:12px}.navbar .dropdown-menu.pull-right:after,.navbar .pull-right .dropdown-menu:after{left:auto;right:13px}.thumbnails{margin-left:-20px;list-style:none}.thumbnails:after,.thumbnails:before{display:table;content:""}.row-fluid .thumbnails{margin-left:0}.thumbnails>li{float:left;margin-bottom:20px;margin-left:20px}.thumbnail{display:block;padding:4px;line-height:1;border:1px solid #ddd;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px;-webkit-box-shadow:0 1px 1px rgba(0,0,0,.075);-moz-box-shadow:0 1px 1px rgba(0,0,0,.075);box-shadow:0 1px 1px rgba(0,0,0,.075)}a.thumbnail:hover{border-color:#0098cc;-webkit-box-shadow:0 1px 4px rgba(0,105,214,.25);-moz-box-shadow:0 1px 4px rgba(0,105,214,.25);box-shadow:0 1px 4px rgba(0,105,214,.25)}.thumbnail>img{display:block;max-width:100%;margin-left:auto;margin-right:auto}.thumbnail .caption{padding:9px}.pull-right{float:right}.pull-left,.social-buttons li{float:left}.hide{display:none}.show{display:block}.filter:after,.filter:before,.social-buttons:after,.social-buttons:before{display:table;content:""}.invisible{visibility:hidden}.isotope-item{z-index:2}.isotope-hidden.isotope-item{pointer-events:none;z-index:1}.isotope,.isotope .isotope-item{-webkit-transition-duration:.8s;-moz-transition-duration:.8s;-ms-transition-duration:.8s;-o-transition-duration:.8s;transition-duration:.8s}.isotope{-webkit-transition-property:height,width;-moz-transition-property:height,width;-ms-transition-property:height,width;-o-transition-property:height,width;transition-property:height,width}.isotope .isotope-item{-webkit-transition-property:-webkit-transform,opacity;-moz-transition-property:-moz-transform,opacity;-ms-transition-property:-ms-transform,opacity;-o-transition-property:top,left,opacity;transition-property:transform,opacity}.isotope .isotope-item.no-transition,.isotope.no-transition,.isotope.no-transition .isotope-item{-webkit-transition-duration:0s;-moz-transition-duration:0s;-ms-transition-duration:0s;-o-transition-duration:0s;transition-duration:0s}h1{text-shadow:0 1px 1px #eee;font-size:14px}.page-header .note,pre code{font-size:12px}h1,h2,h3{margin-bottom:.5em}a{text-decoration:none;color:#0098cc}a:hover{color:#005f80}code{padding:2px 4px;color:#d14;background-color:#f7f7f9;border:1px solid #e1e1e8;overflow:hidden}hr{border-style:dashed}.container{position:relative;padding:5px 0}.navbar{border-bottom:3px solid #0098cc;-webkit-box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px;-moz-box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px;box-shadow:rgba(0,0,0,.5) 0 5px 5px -4px}.navbar .navbar-inner{-webkit-border-radius:0;-moz-border-radius:0;border-radius:0}.navbar .container{width:940px;padding:0}.navbar .brand{color:#fff}.page-header{margin:30px 0 20px;padding-bottom:0;border-bottom:none;position:relative}.page-header h1{margin-bottom:10px}.page-header .btn-area{position:absolute;top:15px;right:0;text-align:center}.thumbnail{background:#fff;-webkit-transition:border-color .1s linear;transition:border-color .1s linear}.thumbnail img{border:1px solid #ccc}.thumbnail:hover{background:#f9f9f9;border-color:#0098cc;-webkit-transition:border-color .25s linear;-moz-transition:border-color .25s linear;-o-transition:border-color .25s linear;-ms-transition:border-color .25s linear;transition:border-color .25s linear;-webkit-box-shadow:0 1px 4px rgba(0,105,214,.25);-moz-box-shadow:0 1px 4px rgba(0,105,214,.25);box-shadow:0 1px 4px rgba(0,105,214,.25)}.btn{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif;position:relative}.btn-large{padding-left:36px}.btn-large i{font-size:27px;position:absolute;top:6px;left:10px}.social-buttons{list-style-type:none;margin:0;padding:10px;background:#eee;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;height:20px}.header{margin-top:10px}.header-top{background:url(../img/palette.png) repeat-x;height:5px;-webkit-box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;-moz-box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;box-shadow:rgba(0,0,0,.5) 0 3px 3px -1px;position:fixed;width:100%;z-index:999;top:0;left:0}.main{padding:20px 0}.filter dt{color:#999;font-weight:400;margin-right:.3em}.filter dd,.filter dt{float:left;display:inline}.filter dd{margin-left:.3em}.filter dd a{text-decoration:none;-webkit-border-radius:12px;-moz-border-radius:12px;border-radius:12px;padding:3px 9px}.filter dd.active a{background:#0098cc;color:#fff}.filter dd.active a:hover{text-decoration:none}.adsense{text-align:center;margin-bottom:20px}body{padding-bottom:20px}.sidebar{margin:10px 0 20px;padding:9px;background:#fff;border:1px solid #ccc;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}.sidebar.adsense{padding:0;background:0 0;border:none}

body {
  text-align: center;
 }

#page-wrap {
  text-align: left;
  width: 800px;
  margin: 0 auto;
     
}

</style>

<script src="https://katzurki.github.io/gtt-bookmarklets/hl.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<head>
<title>Extending Google Translator Toolkit (GTT) Shortcuts (Merge, Apply to all, etc.)</title>
</head>
<div id="page-wrap">
<center>
<h2><p>Custom GTT Shortcuts (Merge, Apply to All, etc.) Through Bookmarklets</p></h2>
<hr>
<a class="btn btn-blue" href="javascript:(function()%7Bvar%20iframe%3Ddocument.querySelectorAll(%22iframe.gtc-document-frame.jfk-scrollbar%22)%5B1%5D%2Ciframe2%3Ddocument.querySelectorAll(%22iframe.gtc-document-frame.jfk-scrollbar%22)%5B0%5D%2Cbase%3Diframe.contentWindow.document.querySelector(%22%23transEditor%22)%2C_document%3Diframe.contentWindow.document%2C__document%3Diframe2.contentWindow.document%2Cel%3D_document.querySelector(%22%23transEditor%22)%3Bconst%20MERGE_SELECTOR%3D%22%23gtc-merge-parent%20%3E%20div.modal-dialog.gtc-merge%20%3E%20div.modal-dialog-buttons%20%3E%20button.goog-buttonset-default%22%2CH1_CSS%3D%22h1.notranslate%20%7B%20font-size%3A%201em%3B%20color%3A%20MidnightBlue%3B%20transition%3A%20all%201s%3B%20text-decoration%3Aunderline%3B%7D%22%2CHR_CSS%3D%22hr%7Bborder%3A0%3Bheight%3A1px%3Bposition%3Arelative%3Bmargin%3A.5em%200%7D%7Chr%3Abefore%7Btop%3A-.5em%3Bheight%3A1em%7D%7Chr%3Aafter%7Bheight%3A.5em%3Btop%3A1px%7D%7Chr%3Aafter%2Chr%3Abefore%7Bcontent%3A''%3Bdisplay%3Ainline%3Bposition%3Aabsolute%3Bwidth%3A100%25%7D%7Chr%2Chr%3Abefore%7Bbq%2C0%2C0%2C.1)%200%2Crgba(0%2C0%2C0%2C0)%2075%25)%3Bbackground%3A-o-radial-gradient(center%2Cellipse%20cover%2Crgba(0%2C0%2C0%2C.1)%200%2Crgba(0%2C0%2C0%2C0)%2075%25)%3Bbackground%3A-ms-radial-gradient(center%2Cellipse%20cover%2Crgba(0%2C0%2C0%2C.1)%200%2Crgba(0%2C0%2C0%2C0)%2075%25)%3Bbackground%3Aradial-gradient(ellipse%20at%20center%2Crgba(0%2C0%2C0%2C.1)%200%2Crgba(0%2C0%2C0%2C0)%2075%25)%7D%7Cbody%2Chr%3Aafter%7Bbackground%3A%23f4f4f4%7D%22%3Bfunction%20insertCSS(e%2Ct)%7Bfor(var%20n%20of%20t.split(%22%7C%22))%7Bvar%20r%3Ddocument.createElement(%22style%22)%3Be.head.appendChild(r)%2Cr.sheet.insertRule(n)%7D%7Dfunction%20eliminateDoubleSpaces(e)%7Be.innerText%3De.innerText.replace(%2F%20%2B(%3F%3D%20)%2Fg%2C%22%22).trim()%7DinsertCSS(_document%2CH1_CSS)%2CinsertCSS(__document%2CH1_CSS)%2CinsertCSS(_document%2CHR_CSS)%2CinsertCSS(__document%2CHR_CSS)%2Cel.onkeydown%3Dfunction(e)%7Bvar%20t%3D_document.querySelector(%22%23current-hotel-name%22)%2Cn%3D_document.querySelector(%22%23transEditor%20%3E%20div%22)%3Bif(t%26%26t.remove()%2C!e.ctrlKey%26%26!e.metaKey%7C%7C40!%3De.keyCode%26%2674!%3De.keyCode%7C%7CeliminateDoubleSpaces(n)%2Ce.altKey%26%26(t%3DhotelName())%2Ce.altKey%26%2690%3D%3De.keyCode)%7Be.preventDefault()%3Bvar%20r%3Diframe.contentWindow.getSelection()%2Co%3Dr.anchorOffset%2Ca%3Dt.length%2Cl%3Dn.innerText.substring(0%2Co)%2Ci%3Dn.innerText.substring(o)%3Bn.innerText%3Dl%2Bt%2Bi%3Bvar%20c%3D_document.createRange()%3Bc.setStart(n.childNodes%5B0%5D%2Co%2Ba)%2Cc.collapse(!0)%2Cr.removeAllRanges()%2Cr.addRange(c)%2Cn.focus()%7De.altKey%26%2665%3D%3De.keyCode%26%26(e.preventDefault()%2CapplyToAll())%2Ce.altKey%26%2683%3D%3De.keyCode%26%26(e.preventDefault()%2CmergeDown())%7D%2C_document.onkeyup%3Dfunction()%7BfadeOut()%7D%3Bvar%20mergeDown%3Dfunction()%7Bdocument.querySelector(MERGE_SELECTOR).click()%7D%2CapplyToAll%3Dfunction()%7Bconst%20e%3De%3D%3Enew%20MouseEvent(e%2C%7Bbubbles%3A!0%7D)%2Ct%3De%3D%3E()%3D%3Edocument.querySelector(e).click()%2Cn%3De%3D%3E%60%23fnrDialogParent%20.gtc-rep-modal-dialog%20.modal-dialog-buttons%20button%5Bname%3D%24%7Be%7D%5D%60%2Cr%3D%7BimgSel%3A(t%3D%3E()%3D%3E%7Bconst%20t%3De(%22mousedown%22)%2Cn%3De(%22mouseup%22)%2Cr%3Ddocument.querySelector(%22img.jfk-button-img.gtc-img-rep%22)%3Br.dispatchEvent(t)%2Cr.dispatchEvent(n)%7D)()%2CapplyToAll%3At(n(%22repDialogReplaceAll%22))%2Cexit%3At(n(%22repDialogExit%22))%7D%3Br.imgSel()%2Cr.applyToAll()%2Cr.exit()%7D%3Bfunction%20hotelName()%7Bvar%20e%3Dbase.parentNode.parentElement.parentElement.parentElement.parentElement.querySelector(%22a%22).textContent%3Bif(!_document.querySelector(%22%23current-hotel-name%22))%7Bvar%20t%3D_document.createElement(%22span%22)%3Bt.id%3D%22current-hotel-name%22%2Ct.style.color%3D%22green%22%2Ct.textContent%3D%22%20%22%2Be%2C_document.querySelector(%22.gtc-editor-info%22).insertAdjacentElement(%22beforeEnd%22%2Ct)%7Dreturn%20void%200%3D%3D%3De%3Fdocument.querySelector(%22%23current-hotel-name%22)%3Ae%7Dfunction%20fadeOut()%7Bvar%20e%3D_document.querySelector(%22%23current-hotel-name%22)%3Be%26%26fade(%22out%22%2C500%2Ce%2C!0)%7Dfunction%20fade(e%2Ct%2Cn%2Cr%3D!1)%7Bvar%20o%3D%22in%22%3D%3D%3De%2Ca%3Do%3F0%3A1%2Cl%3D50%2Ft%3Bo%26%26(n.style.display%3D%22inline%22%2Cn.style.opacity%3Da)%3Bvar%20i%3Dwindow.setInterval(function()%7Ba%3Do%3Fa%2Bl%3Aa-l%2Cn.style.opacity%3Da%2Ca%3C%3D0%26%26(r%3Fn.remove()%3An.style.display%3D%22none%22)%2C(a%3C%3D0%7C%7Ca%3E%3D1)%26%26window.clearInterval(i)%7D%2C50)%7D%7D)()">GTT+</a><br></center>
<pre><code>
/*  

Usage: Drag to Bookmark Bar, click once when you open a project in GTT,
and use predefined shortcuts until you close or reload the page.

Implemented by Dan Biktashev (katzurki@gmail.com) v1.5 30 Jan 2019

Currently defined are: 
    Alt+A               Apply to All
    Alt+S               Merge Down
    Alt+Z               Insert Current Property Name (only for Booking.com projects)
    Ctrl+Down,          Replace double and trailing spaces 
    Ctrl/Cmd+J          (use Alt+Down if you need to retain them on purpose) 

As an added bonus, it prettifies GTT layout making it easier on the eyes.
    
*/

var iframe = document.querySelectorAll('iframe.gtc-document-frame.jfk-scrollbar')[1]
var iframe2 = document.querySelectorAll('iframe.gtc-document-frame.jfk-scrollbar')[0]
var base = iframe.contentWindow.document.querySelector('#transEditor')
var _document = iframe.contentWindow.document
var __document = iframe2.contentWindow.document
var el = _document.querySelector('#transEditor')
const MERGE_SELECTOR = '#gtc-merge-parent > div.modal-dialog.gtc-merge > div.modal-dialog-buttons > button.goog-buttonset-default'

/* First, let's get fancy with our layout in Target/Source columns */
const H1_CSS = 'h1.notranslate { font-size: 1em; color: MidnightBlue; transition: all 1s; text-decoration:underline;}'
const HR_CSS = 'hr{border:0;height:1px;position:relative;margin:.5em 0}|hr:before{top:-.5em;height:1em}|hr:after{height:.5em;top:1px}|hr:after,hr:before{content:\'\';display:inline;position:absolute;width:100%}|hr,hr:before{bq,0,0,.1) 0,rgba(0,0,0,0) 75%);background:-o-radial-gradient(center,ellipse cover,rgba(0,0,0,.1) 0,rgba(0,0,0,0) 75%);background:-ms-radial-gradient(center,ellipse cover,rgba(0,0,0,.1) 0,rgba(0,0,0,0) 75%);background:radial-gradient(ellipse at center,rgba(0,0,0,.1) 0,rgba(0,0,0,0) 75%)}|body,hr:after{background:#f4f4f4}'
function insertCSS(doc, rules) {
    for (var rule of rules.split('|')) {
        var h = document.createElement('style'),styleSheet
        doc.head.appendChild(h)
        styleSheet = h.sheet
        styleSheet.insertRule(rule)
    }
}

insertCSS(_document, H1_CSS)
insertCSS(__document, H1_CSS)
insertCSS(_document, HR_CSS)
insertCSS(__document, HR_CSS)

/* Attaching to el, instead of document, to get the highest priority,
otherwise GTT does its own stuff first (which breaks our Ctrl+Down, for example) */
el.onkeydown = function(event) {
    var current_name = _document.querySelector('#current-hotel-name')
    var el = _document.querySelector('#transEditor > div')
    if (current_name) { current_name.remove() }
    /* keyCode 40 = ArrowDown, keyCode 74 = j */
    if ((event.ctrlKey || event.metaKey) && (event.keyCode == 40 || event.keyCode == 74)) { eliminateDoubleSpaces(el) }
    if (event.altKey) { current_name = hotelName() }
    /* keyCode 90 = z */
    if (event.altKey && event.keyCode == 90) {
        event.preventDefault()
        var sel = iframe.contentWindow.getSelection()
        var offset = sel.anchorOffset
        var after_paste_offset = current_name.length
        var text_before = el.innerText.substring(0, offset)
        var text_after = el.innerText.substring(offset)
        el.innerText = text_before + current_name + text_after
        var range = _document.createRange()
        range.setStart(el.childNodes[0], offset + after_paste_offset)
        range.collapse(true)
        sel.removeAllRanges()
        sel.addRange(range)
        el.focus()
    }
    /* keyCode 65 = a */
    if (event.altKey && event.keyCode == 65) {
        event.preventDefault()
        applyToAll()
    }
    /* keyCode 83 = s */
    if (event.altKey && event.keyCode == 83) {
        event.preventDefault()
        mergeDown()
    }
}

_document.onkeyup = function() { fadeOut() }

function eliminateDoubleSpaces(el) {
    el.innerText = el.innerText.replace(/ +(?= )/g, '').trim()
}

/* It's easiest to imitate a click and let GTT figure out the Merge Segment logic */
var mergeDown = (function() { document.querySelector(MERGE_SELECTOR).click() })

/* Ditto, but the clicks are more complex, and we have to bubble up from the iframe */
var applyToAll = (function() {
    const a = f => new MouseEvent(f, { bubbles: !0 }),
        b = f => () => document.querySelector(f).click(),
        c = f => `#fnrDialogParent .gtc-rep-modal-dialog .modal-dialog-buttons button[name=${f}]`,
        d = {
            imgSel: (f => () => {
                const g = a('mousedown'),
                    h = a('mouseup'),
                    i = document.querySelector(f)
                i.dispatchEvent(g), i.dispatchEvent(h)
            })('img.jfk-button-img.gtc-img-rep'),
            applyToAll: b(c('repDialogReplaceAll')),
            exit: b(c('repDialogExit'))
        }
    d.imgSel(), d.applyToAll(), d.exit()
})

function hotelName() {
    var fresh_name = base.parentNode.parentElement.parentElement.parentElement.parentElement.querySelector('a').textContent
    if (!_document.querySelector('#current-hotel-name')) {
        var hotel_name = _document.createElement('span')
        hotel_name.id = 'current-hotel-name'
        hotel_name.style.color = 'green'
        hotel_name.textContent = ' ' + fresh_name
        _document.querySelector('.gtc-editor-info').insertAdjacentElement('beforeEnd', hotel_name)
    }
    /* In the unlikely but possible case our focus has shifted, let's try for both cases */
    return (typeof fresh_name == 'undefined' ? document.querySelector('#current-hotel-name') : fresh_name)
}


function fadeOut() {
    var current_name = _document.querySelector('#current-hotel-name')
    if (current_name) { fade('out', 500, current_name, true) }

}

/* Gratefully stolen from somewhere on Stackoverflow */
function fade(type, ms, el, remove = false) {
    var isIn = type === 'in',
        opacity = isIn ? 0 : 1,
        interval = 50,
        duration = ms,
        gap = interval / duration

    if (isIn) {
        el.style.display = 'inline'
        el.style.opacity = opacity
    }

    function func() {
        opacity = isIn ? opacity + gap : opacity - gap
        el.style.opacity = opacity

        if (opacity <= 0) { remove ? el.remove() : el.style.display = 'none' }
        if (opacity <= 0 || opacity >= 1) window.clearInterval(fading)
    }

    var fading = window.setInterval(func, interval)
}
</pre></code>

     
<h2>Native GTT Shortcuts</h2><br>
<table width="327">
<tbody>
<tr>
<td colspan="2" width="327">
<p><strong><em><u>Navigation</u></em></strong></p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+Home&nbsp;</strong></p>
</td>
<td width="148">
<p>Select first unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+End&nbsp;</strong></p>
</td>
<td width="148">
<p>Select last unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+K&nbsp;</strong></p>
</td>
<td width="148">
<p>Select previous unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+J&nbsp;</strong></p>
</td>
<td width="148">
<p>Select next unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Alt+K&nbsp;</strong></p>
</td>
<td width="148">
<p>Select previous untranslated unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Alt+J&nbsp;</strong></p>
</td>
<td width="148">
<p>Select next untranslated unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Alt+L&nbsp;</strong></p>
</td>
<td width="148">
<p>Select next invalid unit</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong><em><u>Editing</u></em></strong></p>
</td>
<td width="148">
<p><strong>&nbsp;</strong></p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+F&nbsp;</strong></p>
</td>
<td width="148">
<p>Find and replace</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+S&nbsp;</strong></p>
</td>
<td width="148">
<p>Save</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+Z&nbsp;</strong></p>
</td>
<td width="148">
<p>Undo</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+Y&nbsp;</strong></p>
</td>
<td width="148">
<p>Redo</p>
</td>
</tr>
<tr>
<td width="179">
<p><strong>Ctrl+M&nbsp;</strong></p>
</td>
<td width="148">
<p>Add comment</p>
</td>
</tr>
<tr>
<td colspan="2" width="327">
<p><strong><em><u>Translation</u></em></strong></p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+K&nbsp;</strong></p>
</td>
<td width="148">
<p>Open/close toolkit</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+S&nbsp;</strong></p>
</td>
<td width="148">
<p>Replace translation with source</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+M&nbsp;</strong></p>
</td>
<td width="148">
<p>Replace translation with machine translation</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+L&nbsp;</strong></p>
</td>
<td width="148">
<p>Replace translation with translation memory</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+A&nbsp;</strong></p>
</td>
<td width="148">
<p>Start automatic translation search</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+C&nbsp;</strong></p>
</td>
<td width="148">
<p>Start custom translation search for highlighted text</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+I&nbsp;</strong></p>
</td>
<td width="148">
<p>Automatically insert placeholders</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+U&nbsp;</strong></p>
</td>
<td width="148">
<p>Clear all placeholders</p>
</td>
</tr>
<tr>
<td>
<p><strong>Ctrl+Shift+Space&nbsp;</strong></p>
</td>
<td width="148">
<p>Show placeholder menu</p>
</td>
</tr>
</tbody>
</table>
</div>
<br>
<hr>
<h2>CHANGELOG</h2>
v0.2, changed Copy Hotel logic to fit the new GTT<br>
v1.0: completely reworked the code, eliminating the need for other programs
v1.2: Got rid of all the unnecessary functions, including Copy to Clipboard

